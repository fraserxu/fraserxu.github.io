---
layout: post
title: Node.js中的错误处理(译)

---

错误处理一直是一件很麻烦的事情. 很多开发者使用Node.js很长时间后, 一直没有正确的去处理(代码中的)错误. 但是建立一个优秀的Node.js应用需要能够合理的去处理错误, 而事实上学习起来也不是那么困难. 如果你实在缺乏耐心, 直接跳到"总结"部分tl;dr(too long, don't read).

这篇文档将会为那些Node.js新手解答一些常见问题:
* 在编写函数时, 什么时候该 `throw` (抛出)一个错误, 什么时候传递给callback(回调函数), 触发某个事件, 还是通过其他的方式?
* 函数应该如何判断他们的参数? 是否应该检查参数的类型? 是否应该检查一些更多的限制条件, 例如某个参数是否为空, 是否为负数, 是否是一个IP地址?
* 在参数不符合函数的期望值时应该如何处理? 是否应该抛出一个错误还是传递错误给回调函数?
* 如何系统地区分不同类型的错误(例如"错误请求"和"服务器异常")?
* 如何给错误提供更多的细节, 从而方便调用者知道如何去处理?
* 如何处理未知错误? 是否应该使用 `try/catch`, domains, 或者其他?

这篇文档被分为以下几个部分:
* **背景知识**: 你事先应该已经了解的
* **计算错误(operational error) vs. 程序错误(programmer error)**: 介绍了两种完全不同的错误
* **编写函数的风格**: 编写能够产生一些有用错误信息函数的通用理念
* **编写新函数时的一些特殊建议**: 编写能够产生有用错误信息函数的特殊指导列表
* **例子**: 文档范例和 `connect` 函数的注释
* **总结**: 以上观点的一个总结
* **附加: Error对象的一些常见属性**: 为错误对象所提供的一些标准属性名称

### 背景


